#include <string>

#define MAX 500

template <typename T>
class priqueue {
 public:
  typedef T element_type;

  // function pointer typedef
  // priorityfn: element_type -> int
  typedef int (*priorityfn)(const element_type & item);

  // constructor: takes a priority function for ordering
  // items added
  priqueue(priorityfn pri);

  // add item to the list in order of priority
  void add(const element_type & item);

  // return first item in the list
  element_type front() const;

  // remove the first item in the list
  void remove_front();
  
  // the usual empty predicate
  bool empty() const;

  // Dom's excellect suggestion
  size_t size() const;

 private:
  
  // private functions to reheap up and down
  void _reheap_up(size_t i);
  void _reheap_down(size_t i);

  // member data:
  size_t _size;
  element_type _data[MAX];
  priorityfn _pri;
};

#include "priqueue.cc"
